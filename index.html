<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music App</title>
    <link rel="icon" href="images/logoapp.png" type="">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/utils.js" defer></script>
    <script src="js/playlist.js" defer></script>
    <script src="js/musicLibrary.js" defer></script>
    <script src="js/player.js" defer></script>
    <script src="js/search.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/main.js" defer></script>
    
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="header-left">
                <button class="mobile-menu-toggle" aria-label="Mở menu"><i class="fa-solid fa-bars"></i></button>
                <div class="logo">
                    <i class="fas fa-headphones logo-icon"></i>
                    <span>Music App</span>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn active" data-section="home" aria-label="Trang chủ"><i class="fas fa-home"></i> Trang chủ</button>
                    <button class="nav-btn" data-section="search" aria-label="Tìm kiếm"><i class="fas fa-search"></i> Tìm kiếm</button>
                    <button class="nav-btn" data-section="library" aria-label="Thư viện"><i class="fas fa-book"></i> Thư viện</button>
                </div>
            </div>
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Tìm kiếm bài hát, nghệ sĩ..." aria-label="Tìm kiếm bài hát hoặc nghệ sĩ">
                <button class="search-clear" aria-label="Xóa tìm kiếm"><i class="fas fa-times"></i></button>
                <div class="suggestions"></div>
            </div>
            <div class="header-right">
                <button class="premium-btn" aria-label="Nâng cấp Premium"><i class="fas fa-crown"></i></button>
                <div class="auth-buttons">
                    <button class="btn btn-ghost" data-modal="login-modal">Đăng nhập</button>
                    <button class="btn btn-primary" data-modal="register-modal">Đăng ký</button>
                </div>
                <div class="user-profile hidden">
                    <span id="user-name"></span>
                    <button class="btn btn-ghost" id="logout-btn" aria-label="Đăng xuất"><i class="fas fa-sign-out-alt"></i> Đăng xuất</button>
                </div>
                <button class="theme-toggle" aria-label="Chuyển đổi giao diện sáng/tối"><i class="fas fa-moon"></i></button>
                <div class="custom-select-wrapper">
                    <div class="custom-select-trigger language-toggle">
                        <span id="selected-language-text">Tiếng Việt</span>
                        <i class="fas fa-chevron-down custom-select-arrow"></i>
                    </div>
                    <div class="custom-options-container language-options-container">
                        <div class="custom-option" data-value="vi">Tiếng Việt</div>
                        <div class="custom-option" data-value="en">English</div>
                    </div>
                </div>
            </div>
        </header>
        <div class="main-content">
            <aside class="sidebar">
                <div class="sidebar-content">
                    <div class="sidebar-nav">
                        <div class="nav-section">
                            <div class="nav-item active" data-section="home" role="button" aria-label="Trang chủ"><i class="fas fa-home"></i> Trang chủ</div>
                            <div class="nav-item" data-section="search" role="button" aria-label="Tìm kiếm"><i class="fas fa-search"></i> Tìm kiếm</div>
                            <div class="nav-item" data-section="library" role="button" aria-label="Thư viện"><i class="fas fa-book"></i> Thư viện</div>
                        </div>
                        <div class="nav-section">
                            <div class="nav-item" data-modal="create-playlist-modal" role="button" aria-label="Tạo playlist"><i class="fas fa-plus-square"></i> Tạo playlist</div>
                            <div class="nav-item" data-section="favorites" role="button" aria-label="Yêu thích"><i class="fas fa-heart"></i> Yêu thích</div>
                            <div class="nav-item" data-section="queue" role="button" aria-label="Hàng đợi"><i class="fas fa-list-ul"></i> Hàng đợi</div>
                        </div>
                    </div>
                    <div class="playlists-section">
                        <div class="playlists-header">
                            <h3 class="playlists-title">Playlists</h3>
                            <button class="btn-create-playlist" data-modal="create-playlist-modal" aria-label="Tạo playlist mới"><i class="fas fa-plus"></i></button>
                        </div>
                        <div class="playlist-list">
                            </div>
                    </div>
                </div>
            </aside>
            <main class="content">
                <div class="section active" id="home-section">
                    <div class="section-content">
                        <div class="quick-access">
                            <div class="section-header">
                                <h2 class="section-title">Nghe gần đây</h2>
                                <button class="show-all-btn" data-section-target="recent-all">Hiện tất cả</button>
                            </div>
                            <div class="quick-grid">
                                </div>
                        </div>
                        <div class="recommended-section">
                            <div class="section-header">
                                <h2 class="section-title">Được tạo riêng cho bạn</h2>
                                <button class="show-all-btn" data-section-target="recommended-all">Hiện tất cả</button>
                            </div>
                            <div class="cards-grid scroll-x-grid"> 
                                </div>
                        </div>
                        <div class="chart-section">
                            <div class="section-header">
                                <h2 class="section-title">Bảng xếp hạng V-Pop</h2>
                                <button class="show-all-btn" data-section-target="chart-all">Hiện tất cả</button>
                            </div>
                            <div class="cards-grid scroll-x-grid"> 
                                </div>
                        </div>
                    </div>
                </div>
                <div class="section" id="search-section">
                    <div class="section-content">
                        <div class="section-header">
                            <h2 class="section-title">Duyệt tất cả</h2>
                        </div>
                        <div class="genre-grid cards-grid"> 
                            </div>
                    </div>
                </div>
                <div class="section" id="library-section">
                    <div class="section-content">
                        <div class="library-header">
                            <h2 class="section-title">Thư viện của bạn</h2>
                            <div class="library-filters">
                                <button class="filter-btn active" data-filter="all" aria-label="Lọc tất cả">Tất cả</button>
                                <button class="filter-btn" data-filter="playlists" aria-label="Lọc theo playlist">Playlist</button>
                                <button class="filter-btn" data-filter="artists" aria-label="Lọc theo ca sĩ">Ca sĩ</button>
                                <button class="filter-btn" data-filter="albums" aria-label="Lọc theo album">Album</button>
                                <button class="filter-btn" data-filter="genres" aria-label="Lọc theo thể loại">Thể loại</button>
                            </div>
                        </div>
                        <div class="library-content">
                            </div>
                    </div>
                </div>
                <div class="section" id="favorites-section">
                    <div class="section-content">
                        <div class="section-header">
                            <h2 class="section-title">Bài hát yêu thích</h2>
                        </div>
                        <div class="cards-grid">
                            </div>
                    </div>
                </div>
                <div class="section" id="queue-section">
                    <div class="section-content">
                        <div class="section-header">
                            <h2 class="section-title">Hàng đợi</h2>
                        </div>
                        <div class="queue-list">
                            </div>
                    </div>
                </div>

                <div class="section" id="now-playing-section">
                    <div class="section-content now-playing-content">
                        <button class="back-to-home-btn" aria-label="Quay lại trang chủ"><i class="fas fa-arrow-left"></i> Quay lại</button>
                        <div class="now-playing-header">
                            <div class="now-playing-cover">
                                <img src="../images/track_default.jpg" alt="Album Cover" id="now-playing-album-cover">
                                <div class="play-overlay"><i class="fas fa-play"></i></div>
                            </div>
                            <div class="now-playing-info">
                                <p class="now-playing-type">Bài hát</p>
                                <h1 id="now-playing-title">Tên Bài Hát Đang Phát</h1>
                                <p class="now-playing-artist" id="now-playing-artist">Nghệ Sĩ</p>
                                <p class="now-playing-album" id="now-playing-album">Album • Năm phát hành</p>
                                <div class="now-playing-actions">
                                    <button class="btn btn-primary" id="now-playing-play-btn"><i class="fas fa-play"></i> Phát</button>
                                    <button class="btn btn-ghost favorite-track-btn" id="now-playing-favorite-btn"><i class="far fa-heart"></i> Yêu thích</button>
                                    <button class="btn btn-ghost" id="now-playing-more-btn" aria-label="Tùy chọn khác"><i class="fas fa-ellipsis-h"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="now-playing-details">
                            <div class="lyrics-card">
                                <h3>Lời bài hát</h3>
                                <div class="lyrics-content" id="now-playing-lyrics">
                                    <p>Loading lyrics...</p>
                                </div>
                                <button class="show-full-lyrics-btn">Hiện thêm</button>
                            </div>
                            <div class="artist-info-card">
                                <h3>Về nghệ sĩ</h3>
                                <div class="artist-profile">
                                    <img src="../images/daidien.png" alt="Artist Profile" id="now-playing-artist-img">
                                    <span id="now-playing-artist-name-mini">Nghệ Sĩ</span>
                                </div>
                                <p id="now-playing-artist-bio">Thông tin về nghệ sĩ sẽ hiển thị tại đây. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo commodo consequat.</p>
                                <button class="btn btn-ghost view-artist-btn">Xem thêm</button>
                            </div>
                        </div>
                        <div class="related-tracks-section">
                            <div class="section-header">
                                <h2 class="section-title">Bài hát liên quan</h2>
                                <button class="show-all-btn" data-section-target="related-all">Hiện tất cả</button>
                            </div>
                            <div class="cards-grid related-tracks-grid scroll-x-grid"> 
                                </div>
                        </div>
                    </div>
                </div>

                <div class="section" id="view-all-section">
                    <div class="section-content">
                        <button class="back-to-previous-section-btn" aria-label="Quay lại"><i class="fas fa-arrow-left"></i> Quay lại</button>
                        <h2 class="section-title" id="view-all-title"></h2>
                        <div class="cards-grid" id="view-all-grid">
                            </div>
                    </div>
                </div>


                <footer class="main-footer">
                    <div class="footer-columns">
                        <div class="footer-col">
                            <h3>Công ty</h3>
                            <ul>
                                <li><a href="#">Giới thiệu</a></li>
                                <li><a href="#">Tuyển dụng</a></li>
                                <li><a href="#">For the Record</a></li>
                            </ul>
                        </div>
                        <div class="footer-col">
                            <h3>Cộng đồng</h3>
                            <ul>
                                <li><a href="#">Dành cho nghệ sĩ</a></li>
                                <li><a href="#">Nhà phát triển</a></li>
                                <li><a href="#">Quảng cáo</a></li>
                                <li><a href="#">Nhà cung cấp</a></li>
                            </ul>
                        </div>
                        <div class="footer-col">
                            <h3>Liên kết hữu ích</h3>
                            <ul>
                                <li><a href="#">Hỗ trợ</a></li>
                                <li><a href="#">Ứng dụng di động miễn phí</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                    <div class="footer-bottom">
                        <div class="legal-links">
                            <a href="#">Pháp lý</a>
                            <a href="#">Trung tâm bảo mật</a>
                            <a href="#">Chính sách quyền riêng tư</a>
                            <a href="#">Cài đặt Cookie</a>
                            <a href="#">Thông tin về quảng cáo</a>
                        </div>
                        <div class="copyright">
                            <span>&copy; 2025 Music App Inc.</span>
                        </div>
                    </div>
                </footer>
            </main>
        </div>
        <footer class="player">
            <div class="current-track">
                <div class="current-track-cover"><i class="fas fa-music"></i></div>
                <div class="current-track-info">
                    <h4></h4>
                    <p></p>
                </div>
                <button class="favorite-track-btn" aria-label="Thêm vào yêu thích"><i class="far fa-heart"></i></button>
            </div>
            <div class="player-controls">
                <div class="control-buttons">
                    <button id="shuffle-btn" aria-label="Xáo trộn"><i class="fas fa-random"></i></button>
                    <button id="prev-btn" aria-label="Bài trước"><i class="fas fa-step-backward"></i></button>
                    <button id="play-pause-btn" class="play-pause" aria-label="Phát hoặc tạm dừng"><i class="fas fa-play"></i></button>
                    <button id="next-btn" aria-label="Bài tiếp theo"><i class="fas fa-step-forward"></i></button>
                    <button id="repeat-btn" aria-label="Lặp lại"><i class="fas fa-redo"></i></button>
                </div>
                <div class="progress-container">
                    <span class="current-time">0:00</span>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                        <div class="progress-handle"></div>
                    </div>
                    <span class="duration">0:00</span>
                </div>
            </div>
            <div class="extra-controls">
                <button id="lyrics-btn" aria-label="Lời bài hát"><i class="fas fa-microphone-alt"></i></button>
                <button id="queue-btn" aria-label="Hiển thị hàng đợi"><i class="fas fa-list-ul"></i></button>
                <div class="volume-control">
                    <i class="fas fa-volume-up"></i>
                    <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1" aria-label="Điều chỉnh âm lượng">
                    </div>
            </div>
        </footer>
        <div class="modal" id="track-options-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="track-options-modal-title">Tùy chọn bài hát</h2>
                    <button class="modal-close1" aria-label="Đóng"><i class="fas fa-times"></i></button>
                </div>
                <div class="track-options-list">
                    <button class="btn btn-ghost" data-action="play-track-from-modal"><i class="fas fa-play"></i> Phát bài hát</button>
                    <button class="btn btn-ghost" data-action="add-to-queue-from-modal"><i class="fas fa-list-ul"></i> Thêm vào hàng đợi</button>
                    <button class="btn btn-ghost" data-action="add-to-playlist-from-modal"><i class="fas fa-plus-square"></i> Thêm vào playlist</button>
                    <button class="btn btn-ghost" data-action="toggle-favorite-from-modal"><i class="far fa-heart"></i> Thêm vào yêu thích</button>
                    <button class="btn btn-ghost" data-action="share-from-modal"><i class="fas fa-share"></i> Chia sẻ</button>
                    <button class="btn btn-ghost" data-action="view-track-info-from-modal"><i class="fas fa-info-circle"></i> Thông tin bài hát</button>
                </div>
            </div>
        </div>
        <div class="modal" id="login-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Đăng nhập</h2>
                    <button class="modal-close1" aria-label="Đóng"><i class="fas fa-times"></i></button>
                </div>
                <form>
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" placeholder="Nhập email của bạn" required aria-required="true">
                    <label for="login-password">Mật khẩu</label>
                    <input type="password" id="login-password" placeholder="Nhập mật khẩu" required aria-required="true">
                    <div class="form-options">
                        <label for="remember-me">
                            <input type="checkbox" id="remember-me">
                            <span class="checkmark"></span>
                        </label>
                        <a href="#" class="forgot-password">Quên mật khẩu?</a>
                    </div>
                    <button type="submit" class="btn btn-primary">Đăng nhập</button>
                    <div class="divider">Hoặc</div>
                    <button type="button" class="btn btn-social google" data-provider="Google"><i class="fab fa-google"></i> Đăng nhập với Google</button>
                    <button type="button" class="btn btn-social facebook" data-provider="Facebook"><i class="fab fa-facebook"></i> Đăng nhập với Facebook</button>
                    <p class="modal-footer-text">Chưa có tài khoản? <a href="#" data-modal="register-modal">Đăng ký</a></p>
                </form>
            </div>
        </div>
        <div class="modal" id="register-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Đăng ký</h2>
                    <button class="modal-close1" aria-label="Đóng"><i class="fas fa-times"></i></button>
                </div>
                <form>
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" placeholder="Nhập email của bạn" required aria-required="true">
                    <label for="register-password">Mật khẩu</label>
                    <input type="password" id="register-password" placeholder="Nhập mật khẩu" required aria-required="true">
                    <label for="register-name">Tên</label>
                    <input type="text" id="register-name" placeholder="Nhập tên của bạn" required aria-required="true">
                    <div class="form-options">
                        <label>
                            <input type="radio" name="gender" value="Nam" checked>
                            <span class="radio-circle"></span>
                            Nam
                        </label>
                        <label>
                            <input type="radio" name="gender" value="Nữ">
                            <span class="radio-circle"></span>
                            Nữ
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary">Đăng ký</button>
                    <div class="divider">Hoặc</div>
                    <button type="button" class="btn btn-social google" data-provider="Google"><i class="fab fa-google"></i> Đăng ký với Google</button>
                    <button type="button" class="btn btn-social facebook" data-provider="Facebook"><i class="fab fa-facebook"></i> Đăng ký với Facebook</button>
                    <p class="modal-footer-text">Đã có tài khoản? <a href="#" data-modal="login-modal">Đăng nhập</a></p>
                </form>
            </div>
        </div>
        <div class="modal" id="create-playlist-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Tạo playlist mới</h2>
                    <button class="modal-close1" aria-label="Đóng"><i class="fas fa-times"></i></button>
                </div>
                <form>
                    <div class="playlist-cover-upload-area" id="playlist-cover-upload-area">
                        <img id="playlist-cover-preview" src="../images/playlist_default.jpg" alt="Playlist Cover" style="display: none;">
                        <i class="fas fa-plus-circle playlist-cover-upload-icon"></i>
                        <p id="playlist-upload-text">Kéo & thả ảnh vào đây hoặc</p>
                        <input type="file" id="playlist-cover-input" accept="image/*" style="display: none;">
                        <button type="button" class="btn btn-ghost choose-photo-btn"><i class="fas fa-camera"></i> Chọn ảnh</button>
                    </div>
                    <label for="playlist-name">Tên playlist</label>
                    <input type="text" id="playlist-name" placeholder="Nhập tên playlist" maxlength="100" required aria-required="true">
                    <div class="char-count">0/100</div>
                    <label for="playlist-description">Mô tả</label>
                    <textarea id="playlist-description" placeholder="Mô tả playlist của bạn" maxlength="500"></textarea>
                    <div class="char-count">0/500</div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-ghost modal-close">Hủy</button>
                        <button type="submit" class="btn btn-primary">Tạo</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal" id="queue-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Hàng đợi</h2>
                    <button class="modal-close1" aria-label="Đóng"><i class="fas fa-times"></i></button>
                </div>
                <div class="queue-list"></div>
            </div>
        </div>
        <div class="modal" id="notification-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Thông báo</h2>
                    <button class="modal-close1" aria-label="Đóng"><i class="fas fa-times"></i></button>
                </div>
                <div id="notification-list"></div>
            </div>
        </div>
        <div class="modal" id="track-info-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Thông tin bài hát</h2>
                    <button class="modal-close1" aria-label="Đóng"><i class="fas fa-times"></i></button>
                </div>
                <div id="track-info-body"></div>
            </div>
        </div>
        <div class="modal" id="artist-detail-modal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="artist-detail-modal-name"></h2>
            <button class="modal-close1" aria-label="Đóng"><i class="fas fa-times"></i></button>
        </div>
        <div class="artist-detail-body">
            <div class="artist-detail-cover-container">
                <img src="../images/artist_default.jpg" alt="Artist Avatar" id="artist-detail-avatar" class="round-cover">
            </div>
            <p id="artist-detail-bio-full"></p>
        </div>
    </div>
</div>
    </div>
    
</body>
</html>